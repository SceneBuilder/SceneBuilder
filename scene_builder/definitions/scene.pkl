amends "pkl:Project"

name = "SceneBuilder.Definitions"

dependencies {
    ["pkl", "https://github.com/apple/pkl/releases/download/0.25.3/pkl-0.25.3.zip"]
}

package {
    version = "0.0.1"
    description = "Data definitions for the SceneBuilder project."
    packageZipUrl = "https://example.com/scenebuilder-definitions-0.0.1.zip"
}

// Global configuration for the scene generation process.
class GlobalConfig {
    // Toggles whether to generate a visual preview after each design action.
    previewAfterAction: Boolean = false
}

// Represents a 3D vector.
class Vector3 {
    x: Float
    y: Float
    z: Float
}

// Represents a 3D object in the scene.
class Object {
    // A unique identifier for the object.
    id: String
    
    // The name of the object.
    name: String
    
    // A description of the object.
    description: String
    
    // The source of the 3D model (e.g., "objaverse", "generated").
    source: String
    
    // The identifier for the model in its source database.
    sourceId: String
    
    // The position of the object in the room.
    position: Vector3
    
    // The rotation of the object (in Euler angles).
    rotation: Vector3
    
    // The scale of the object.
    scale: Vector3
}

// Represents a single room in the scene.
class Room {
    // A unique identifier for the room.
    id: String
    
    // The category of the room (e.g., "living_room", "kitchen").
    category: String
    
    // Descriptive tags for the room.
    tags: List<String>
    
    // The objects contained within the room.
    objects: List<Object>
}

// Represents the entire 3D scene.
class Scene {
    // The category of the scene (e.g., "residential", "commercial").
    category: String
    
    // Descriptive tags for the scene.
    tags: List<String>
    
    // Utility field to distinguish single vs. multi-floor scenes.
    floorType: "single" | "multi"
    
    // The rooms contained within the scene.
    rooms: List<Room>
}